From: Jari Aalto <jari.aalto@cante.net>
Subject: Emacs 24.x adjustments

---
 lisp/database.el   |    2 +-
 lisp/db-format.el  |    4 ++--
 lisp/db-interfa.el |    2 +-
 lisp/edbcore.el    |    6 +++---
 4 files changed, 7 insertions(+), 7 deletions(-)

--- a/lisp/database.el
+++ b/lisp/database.el
@@ -38,7 +38,7 @@
 When called interactively, display the string in the echo area."
   (interactive)
   (let ((v (format "EDB %s of 2008-05-26" edb-version)))
-    (when (interactive-p)
+    (when (called-interactively-p 'interactive)
       (message "%s" v))
     v))
 
--- a/lisp/db-format.el
+++ b/lisp/db-format.el
@@ -1510,7 +1510,7 @@
       ;; First save away current format.
       ;; No need to do anything with filename.
       (let ((curname (edb--S :format-name)))
-        (when (and (interactive-p)
+        (when (and (called-interactively-p 'interactive)
                    (not curname)
                    (y-or-n-p "Give the current format a name? "))
           (setq curname (read-string "Name for current format: "))
@@ -1588,7 +1588,7 @@
                   dbf-format-name-spec-alist)
             (erase-buffer))))
 
-      (when (interactive-p)
+      (when (called-interactively-p 'interactive)
         (db-display-record (dbf-displayed-record) t)))))
 
 
--- a/lisp/db-interfa.el
+++ b/lisp/db-interfa.el
@@ -668,7 +668,7 @@
                (not (zerop (prefix-numeric-value arg)))
              (not (edb--1D dbc-database :togp)))))
     (edb--1D! dbc-database :togp v)
-    (when (interactive-p)
+    (when (called-interactively-p 'interactive)
       (message "Use of internal file layout now %sabled"
                (if v "en" "dis")))))
 
